<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Mini Expense Tracker</title>
</head>
<body>

    <h2>Expense Tracker</h2>

    Title: <input type="text" id="title"><br><br>
    Amount: <input type="number" id="amount"><br><br>
    Date: <input type="date" id="date"><br><br>

    <button onclick="addExpense()">Add Expense</button>
    <button onclick="viewExpenses()">View Expenses</button>

    <ul id="expenseList"></ul>

    <script>
        let db = openDatabase('ExpenseDB', '1.0', 'Expense Database', 2 * 1024 * 1024);

        db.transaction(function(tx) {
            tx.executeSql(
                'CREATE TABLE IF NOT EXISTS expenses (id INTEGER PRIMARY KEY AUTOINCREMENT, title TEXT, amount REAL, date TEXT)'
            );
        });

        function addExpense() {
            let title = document.getElementById("title").value;
            let amount = document.getElementById("amount").value;
            let date = document.getElementById("date").value;

            db.transaction(function(tx) {
                tx.executeSql(
                    'INSERT INTO expenses (title, amount, date) VALUES (?, ?, ?)',
                    [title, amount, date]
                );
            });
            alert("Expense Added!");
        }

        function viewExpenses() {
            db.transaction(function(tx) {
                tx.executeSql('SELECT * FROM expenses', [], function(tx, results) {
                    let list = document.getElementById("expenseList");
                    list.innerHTML = "";

                    for (let i = 0; i < results.rows.length; i++) {
                        let item = results.rows.item(i);
                        let li = document.createElement("li");
                        li.innerText = item.title + " - â‚¹" + item.amount + " - " + item.date;
                        list.appendChild(li);
                    }
                });
            });
        }
    </script>

</body>
</html>
